!function(e){"use strict";e.fn.simplePopup=function(t){function o(){return e(document).on("click.simplePopup",C,function(t){t.preventDefault(),b=e(this),p(),k=n(),y=r(),i()}),v}function p(){if("auto"!==w.type&&"data"!==w.type&&"html"!==w.type)throw new Error('simplePopup: Type must me "auto", "data" or "html"');if(w.backdrop>1||w.backdrop<0)throw new Error('simplePopup: Please enter a "backdrop" value <= 1 of >= 0')}function n(){if("html"===w.type)return"html";if("data"===w.type)return"data";if("auto"===w.type){if(b.data("content"))return"data";if(e(w.htmlSelector).length)return"html";throw new Error('simplePopup: could not determine type for "type: auto"')}return!1}function r(){if("html"===k){if(!w.htmlSelector)throw new Error('simplePopup: for "type: html" the "htmlSelector" option must point to your popup html');if(!e(w.htmlSelector).length)throw new Error('simplePopup: the "htmlSelector": "'+w.htmlSelector+'" was not found');return e(w.htmlSelector).html()}if("data"===k){if(y=b.data("content"),!y)throw new Error('simplePopup: for "type: data" the "data-content" attribute can not be empty');return y}return!1}function i(){w.backdrop&&l(),w.escapeKey&&m(),c()}function c(){var t=e("<div/>",{class:"simple-popup-content",html:y}),o=e("<div/>",{id:"simple-popup",class:"hide-it"});if(w.inlineCss&&(t.css("width",w.width),t.css("height",w.height),t.css("background",w.background)),u(o),w.closeCross){var p=e("<div/>",{class:"close"});s(p),t.append(p)}o.append(t),w.beforeOpen(o),e("body").append(o),w.afterOpen(o),setTimeout(function(){e("#simple-popup").removeClass("hide-it")})}function a(){var t=e("#simple-popup").html();w.beforeClose(t),e("#simple-popup").addClass("hide-it");var o=setInterval(function(){"0"===e("#simple-popup").css("opacity")&&(e("#simple-popup").remove(),clearInterval(o))},100);w.backdrop&&d(),w.escapeKey&&h(),w.afterClose()}function u(t){e(t).on("click",function(t){"simple-popup"===e(t.target).prop("id")&&a()})}function s(t){e(t).on("click",function(e){a()})}function l(){f()}function d(){e("#simple-popup-backdrop").addClass("hide-it");var t=setInterval(function(){"0"===e("#simple-popup-backdrop").css("opacity")&&(e("#simple-popup-backdrop").remove(),clearInterval(t))},100)}function f(){var t=e("<div/>",{class:"simple-popup-backdrop-content"}),o=e("<div/>",{id:"simple-popup-backdrop",class:"hide-it"});w.inlineCss&&(t.css("opacity",w.backdrop),t.css("background",w.backdropBackground)),o.append(t),e("body").append(o),setTimeout(function(){e("#simple-popup-backdrop").removeClass("hide-it")})}function m(){e(document).on("keyup.escapeKey",function(e){27===e.keyCode&&a()})}function h(){e(document).unbind("keyup.escapeKey")}var b,y,k,v=this,w=e.extend({type:"auto",htmlSelector:null,width:"600px",height:"auto",background:"#fff",backdrop:.7,backdropBackground:"#000",inlineCss:!0,escapeKey:!0,closeCross:!0,beforeOpen:function(e){},afterOpen:function(e){},beforeClose:function(e){},afterClose:function(){}},t),C=this.selector;return o()}}(jQuery);