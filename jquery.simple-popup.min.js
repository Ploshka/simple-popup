!function(a){"use strict";a.fn.simplePopup=function(b){function j(){return a(document).on("click.simplePopup",i,function(b){b.preventDefault(),d=a(this),k(),f=l(),e=m(),n()}),c}function k(){if("auto"!==h.type&&"data"!==h.type&&"html"!==h.type)throw new Error('simplePopup: Type must me "auto", "data" or "html"');if(h.backdrop>1||h.backdrop<0)throw new Error('simplePopup: Please enter a "backdrop" value <= 1 of >= 0')}function l(){if("html"===h.type)return"html";if("data"===h.type)return"data";if("auto"===h.type){if(d.data("content"))return"data";if(a(h.htmlSelector).length)return"html";throw new Error('simplePopup: could not determine type for "type: auto"')}return!1}function m(){if("html"===f){if(!h.htmlSelector)throw new Error('simplePopup: for "type: html" the "htmlSelector" option must point to your popup html');if(!a(h.htmlSelector).length)throw new Error('simplePopup: the "htmlSelector": "'+h.htmlSelector+'" was not found');return a(h.htmlSelector).html()}if("data"===f){if(e=d.data("content"),!e)throw new Error('simplePopup: for "type: data" the "data-content" attribute can not be empty');return e}return!1}function n(){h.backdrop&&s(),h.escapeKey&&v(),o()}function o(){var b=a("<div/>",{class:"simple-popup-content",html:e}),c=a("<div/>",{id:"simple-popup",class:"hidden"});if(h.inlineCss&&(b.css("width",h.width),b.css("height",h.height),b.css("background",h.background)),q(c),h.closeCross){var d=a("<div/>",{class:"close"});r(d),b.append(d)}c.append(b),a("body").append(c),setTimeout(function(){a("#simple-popup").removeClass("hidden")})}function p(){a("#simple-popup").addClass("hidden");var b=setInterval(function(){"0"===a("#simple-popup").css("opacity")&&(a("#simple-popup").remove(),clearInterval(b))},100);h.backdrop&&t(),h.escapeKey&&w()}function q(b){a(b).on("click",function(b){"simple-popup"===a(b.target).prop("id")&&p()})}function r(b){a(b).on("click",function(a){p()})}function s(){u()}function t(){a("#simple-popup-backdrop").addClass("hidden");var b=setInterval(function(){"0"===a("#simple-popup-backdrop").css("opacity")&&(a("#simple-popup-backdrop").remove(),clearInterval(b))},100)}function u(){var b=a("<div/>",{class:"simple-popup-backdrop-content"}),c=a("<div/>",{id:"simple-popup-backdrop",class:"hidden"});h.inlineCss&&(b.css("opacity",h.backdrop),b.css("background",h.backdropBackground)),c.append(b),a("body").append(c),setTimeout(function(){a("#simple-popup-backdrop").removeClass("hidden")})}function v(){a(document).on("keyup.escapeKey",function(a){27===a.keyCode&&p()})}function w(){a(document).unbind("keyup.escapeKey")}var d,e,f,c=this,h=a.extend({type:"auto",htmlSelector:null,width:"600px",height:"auto",background:"#fff",backdrop:.7,backdropBackground:"#000",inlineCss:!0,escapeKey:!0,closeCross:!0},b),i=this.selector;return j()}}(jQuery);